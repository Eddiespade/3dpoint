# 3dpoint
根据视频流和相机内外参生成分割的3d点云


## 说明文档

- 目录说明
```shell
.
├── cam_utils.py      # 相机相关的辅助函数，包括从txt文件中读取参数，相机坐标系转换到世界坐标系等
├── data              # 存放数据文件，包括相机参数，视频流
├── deeplabv3         # 图像道路标识分割算法，需将预训练好的模型放到weights目录下
├── main.py           # 主函数，可修改输出输入路径等
├── model_utils.py    # 深度学习模型相关函数，包括网络初始化，网络推理等
├── monodepth2        # 深度估计算法，需将预训练好的模型放到weights目录下
├── output            # 分割效果和深度估计可视化
├── README.md
```
- 主函数为：./main.py
- 逻辑：
  > 根据深度图和分割图像得到分割区域的三维点云
  > 
  > 深度图：采用monodepth2得到
  > 
  > 分割图：采用deeplabv3+得到
  > 
  > 后续根据像素坐标系到世界坐标系的关系进行转换
  > 
  > 将得到的每个图像分割区域的三维点保存在一个.ply文件中，颜色为分割图的颜色。（保存时剔除了背景）
  > 
  > 通过open3D可以可视化.ply的点云信息
